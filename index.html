<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, user-scalable=no"
  />
  <title>Rubik’s Cube Controller</title>
  <meta name="theme-color" content="#111111" />
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #0f0f10;
      color: #e8e8e8;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }
    #app {
      display: grid;
      grid-template-columns: 1fr 320px;
      grid-template-rows: auto 1fr;
      grid-template-areas:
        "toolbar toolbar"
        "canvas  side";
      height: 100%;
      gap: 0;
    }
    #toolbar {
      grid-area: toolbar;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #222;
      background: #141416;
      position: sticky;
      top: 0;
      z-index: 2;
    }
    #toolbar button {
      background: #1f1f22;
      border: 1px solid #2a2a2e;
      color: #e8e8e8;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }
    #toolbar button:hover { background: #2a2a2f; }
    #canvas {
      grid-area: canvas;
      position: relative;
      overflow: hidden;
    }
    #side {
      grid-area: side;
      border-left: 1px solid #222;
      background: #121214;
      display: flex;
      flex-direction: column;
      min-width: 260px;
    }
    #legend {
      padding: 10px;
      border-bottom: 1px solid #222;
      font-size: 14px;
      line-height: 1.4;
    }
    #log {
      flex: 1;
      overflow: auto;
      padding: 10px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      white-space: pre-wrap;
    }
    .row { display: flex; gap: 6px; margin-bottom: 6px; }
    .row label { width: 16px; display: inline-block; opacity: .8; }
    .grow { flex: 1; }
    .muted { opacity: .7; }
    .kbd {
      display: inline-block;
      padding: 0 6px;
      border: 1px solid #2b2b2f;
      border-bottom-width: 2px;
      border-radius: 6px;
      background: #1a1a1d;
      font-family: inherit;
      font-size: 12px;
    }
    a { color: #9ecbff; text-decoration: none; }
  </style>
</head>
<body>
  <div id="app">
    <div id="toolbar">
      <!-- Face controls -->
      <div class="row grow">
        <label>U</label>
        <button data-face="U" data-dir="CW">U</button>
        <button data-face="U" data-dir="CCW">U'</button>
        <button data-face="U" data-dir="2">U2</button>

        <label>L</label>
        <button data-face="L" data-dir="CW">L</button>
        <button data-face="L" data-dir="CCW">L'</button>
        <button data-face="L" data-dir="2">L2</button>

        <label>F</label>
        <button data-face="F" data-dir="CW">F</button>
        <button data-face="F" data-dir="CCW">F'</button>
        <button data-face="F" data-dir="2">F2</button>
      </div>

      <div class="row grow">
        <label>R</label>
        <button data-face="R" data-dir="CW">R</button>
        <button data-face="R" data-dir="CCW">R'</button>
        <button data-face="R" data-dir="2">R2</button>

        <label>B</label>
        <button data-face="B" data-dir="CW">B</button>
        <button data-face="B" data-dir="CCW">B'</button>
        <button data-face="B" data-dir="2">B2</button>

        <label>D</label>
        <button data-face="D" data-dir="CW">D</button>
        <button data-face="D" data-dir="CCW">D'</button>
        <button data-face="D" data-dir="2">D2</button>
      </div>

      <div class="row">
        <button id="scramble">Scramble (20)</button>
        <button id="reset">Reset</button>
      </div>
    </div>

    <div id="canvas"></div>

    <aside id="side">
      <div id="legend">
        <div><strong>Absolute faces (locked to world axes)</strong></div>
        <div class="muted">U=+Y, D=-Y, F=+Z, B=-Z, R=+X, L=-X</div>
        <div class="muted">CW/CCW by right-hand rule, looking at the face.</div>
        <div class="muted">Orbit the <em>camera</em> freely — faces don’t remap.</div>
        <div style="margin-top:8px">
          <span class="kbd">R</span>,
          <span class="kbd">R'</span>,
          <span class="kbd">R2</span> etc. work from keyboard.
        </div>
      </div>
      <div id="log"></div>
    </aside>
  </div>

  <!-- three.js + OrbitControls (no other libs needed) -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
  <script src="./script.js"></script>
</body>
</html>
